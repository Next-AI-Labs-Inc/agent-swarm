{"timestamp":"2025-10-31T07:02:52.805Z","event_type":"pattern","repo":"ixcoach-api","lesson":"Always call createTask() before implementing features. Use updateTask() with ðŸŸ¢ðŸŸ¡ðŸ”´ indicators during progress. Call getTasks() to find related work. NEVER set status to done - use for-review instead. Task URLs: http://localhost:3020/task/{taskId}","context":"Use when you need to create, update, retrieve or track tasks in MongoDB. Required BEFORE starting any implementation work.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Task Management API (agentTaskClient)","created_date":"2025-04-11","location":"/Users/jedi/react_projects/ix/ixcoach-api/utils/agentTaskClient.js"}}
{"timestamp":"2025-10-31T07:02:52.814Z","event_type":"pattern","repo":"ixcoach-api","lesson":"POST /api/admin/tools/stripe/getCustomerByEmail to fetch customer. POST /customer/:customerId/update-to-current to fix subscription state. POST /customer/:customerId/apply-credit-to-invoices to resolve past-due invoices. Always check both MongoDB and Stripe for full picture.","context":"Use when debugging subscription issues, checking customer status, applying credits, or resolving invoice problems.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Stripe Admin Tools API","created_date":"2025-04-30","location":"/Users/jedi/react_projects/ix/ixcoach-api/routes/admin/tools/stripe-routes.js"}}
{"timestamp":"2025-10-31T07:02:52.815Z","event_type":"pattern","repo":"ixcoach-api","lesson":"POST /api/admin/tools/dispute/generate with email. Returns modules: cardholder-participation, customer-benefit, authentication-proof, account-history, location-alignment, consent-intent. Each module provides evidence for dispute response. Primary charge auto-selected from active disputes.","context":"Use when responding to Stripe chargebacks/disputes. Generates comprehensive evidence reports.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Dispute Evidence Generator","created_date":"2025-10-21","location":"/Users/jedi/react_projects/ix/ixcoach-api/controllers/admin/tools/disputeController.js"}}
{"timestamp":"2025-10-31T07:02:52.815Z","event_type":"pattern","repo":"ixcoach-api","lesson":"Run: node agent-tools-cli.js <email> <tool-number>. Tools: 1=Enhanced Plan Resolver, 2=Fix Plan Discrepancy, 3=Check Invoices, 4=Apply Credit, 5=Mark Invoice Paid, 6=Pay Invoices, 7=Update to Current, 8=Get All Customers. Tool 4 accepts: node agent-tools-cli.js user@example.com 4 50 true (apply  credit and pay invoices)","context":"Use for non-interactive command-line execution of subscription diagnostic tools.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Agent CLI Tools (agent-tools-cli.js)","created_date":"2025-04-11","location":"/Users/jedi/react_projects/ix/ixcoach-api/account-management/agent-tools-cli.js"}}
{"timestamp":"2025-10-31T07:02:52.815Z","event_type":"pattern","repo":"ixcoach-api","lesson":"Tools are strategy-specific. Thinking strategy gets assessment and vision tools. Pro strategy gets memory opt-out handling. Tool definitions in gen3/gpt5/tools/index.js. Handlers validate conversation context before execution.","context":"Use when GPT-5 needs tools for coaching sessions: fetchGoals, getMembershipStatus, searchMemory.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"GPT-5 Tool Registry","created_date":"2025-10-25","location":"/Users/jedi/react_projects/ix/ixcoach-api/gen3/gpt5/tools/"}}
{"timestamp":"2025-10-31T07:02:52.816Z","event_type":"pattern","repo":"ixcoach-api","lesson":"POST /api/admin/prompt-tool/generate for single prompt. POST /api/admin/prompt-tool/conversation/:promptId for multi-step. Supports subFields injection, persona randomization, and conversation continuity. Max tokens configurable, defaults to Claude Opus.","context":"Use for testing and generating AI prompts with multi-step conversations.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Admin Prompt Tool","created_date":"2025-04-05","location":"/Users/jedi/react_projects/ix/ixcoach-api/controllers/admin/promptToolController.js"}}
{"timestamp":"2025-10-31T07:02:52.816Z","event_type":"pattern","repo":"ixcoach-api","lesson":"GET /api/admin/session-diagnostics returns grouped session timelines with reasoning traces, token counts, and model configs. Shows GPT-5 vs GPT-4 usage. Displays admin-only reasoning metadata. Critical for debugging cost and quality.","context":"Use when debugging GPT-5 sessions, token usage, or coaching quality issues.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Session Diagnostics API","created_date":"2025-05-24","location":"/Users/jedi/react_projects/ix/ixcoach-api/controllers/admin/sessionDiagnosticsController.js"}}
{"timestamp":"2025-10-31T07:02:52.816Z","event_type":"pattern","repo":"ixcoach-api","lesson":"Comprehensive diagnostics: checks MongoDB User, Firebase auth, Stripe customer, subscription status, cookie config, email normalization. Run all checks to identify root cause. Common issues: email case mismatch, missing Firebase account, expired cookies, plan discrepancy.","context":"Use when user reports login issues, subscription access problems, or auth failures.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"User Investigation Tool","created_date":"2025-04-02","location":"/Users/jedi/react_projects/ix/ixcoach-api/docs/issues/Sign_in_bugs_Issue_Apr_2_2025/agent_review/test_cases/UserInvestigationTool.js"}}
{"timestamp":"2025-10-31T07:02:52.817Z","event_type":"pattern","repo":"ixcoach-api","lesson":"Checks: MongoDB connection, Stripe API key, Firebase admin SDK, Redis connection, required env vars, port availability. Run before suggesting deployment. Reports missing dependencies and config issues.","context":"Use to verify API health before deploying or when debugging systemic issues.","confidence":10,"tags":["agent-tools","documentation","discovery"],"metadata":{"tool_name":"Agent App Health Check","created_date":"2025-04-12","location":"/Users/jedi/react_projects/ix/ixcoach-api/scripts/agent-app-health-check.js"}}
{"timestamp":"2025-10-31T07:03:23.724Z","event_type":"intent","repo":"ixcoach-api","lesson":"Company health cannot be directly queried from memory alone. Health indicators exist across: 1) Stripe metrics (revenue, MRR, churn), 2) User engagement (active users, session time), 3) System operational health (API uptime, error rates), 4) Subscription status (trial conversion, active paid users), 5) Technical debt (test coverage, documented issues). Check /api/admin/session-diagnostics for usage, Stripe dashboard for revenue, and startup-health-check.js for system status.","context":"Use when asked about company health, operational status, or business metrics.","confidence":10,"tags":["company-health","metrics","kpi","meta-knowledge"],"metadata":{"health_check_locations":["/Users/jedi/react_projects/ix/ixcoach-api/scripts/agent-app-health-check.js","/Users/jedi/react_projects/ix/ixcoach-api/utils/startup-health-check.js"],"metrics_endpoints":["GET /api/admin/session-diagnostics","GET /api/admin/spend","GET /api/admin/user-status"],"key_health_indicators":{"technical":["API uptime","MongoDB connection","Stripe API","Firebase auth","Redis cache"],"business":["MRR","Trial conversion rate","Active subscribers","Churn rate"],"operational":["Session quality","Token usage","Error rates","Response times"]}}}
{"timestamp":"2025-10-31T07:06:38.763Z","event_type":"pattern","repo":"ixcoach-api","context":"Use when creating tasks or tracking work. Do NOT use deprecated MongoDB task management (agentTaskClient).","lesson":"Create GitHub issues in gptcoach2 repo for IX Coach related work. Use: gh issue create --repo gptcoach2 --title \"Title\" --body \"Description\" --label \"label\". User also uses Linear for task management (ChatGPT has access). GitHub CLI is preferred for agent-created issues.","confidence":10,"tags":["task-management","github","linear","workflow"],"metadata":{"deprecated_system":"MongoDB agentTaskClient (utils/agentTaskClient.js)","current_system":"GitHub Issues (gptcoach2 repo) or Linear","gh_cli_example":"gh issue create --repo gptcoach2 --title \"Fix login bug\" --body \"Description here\" --label bug"}}
{"timestamp":"2025-10-31T07:07:43.785Z","event_type":"success","repo":"agent-swarm-mcp","context":"Use when you need to add, update, or remove memories. MCP tools now available in index.js.","lesson":"MCP server now supports 4 tools: retrieve_memories (search), add_memory (create), update_memory (modify by search), remove_memory (delete by search). Full CRUD operations. See MEMORY_MANAGEMENT.md for examples. Tools available via MCP protocol only (not CLI).","confidence":10,"tags":["mcp","memory-management","tools","crud"],"metadata":{"tools":["retrieve_memories","add_memory","update_memory","remove_memory"],"location":"/Users/jedi/react_projects/ix/agent-swarm-mcp/mcp-server/index.js","docs":"/Users/jedi/react_projects/ix/agent-swarm-mcp/MEMORY_MANAGEMENT.md"}}
